spring.application.name=whiteboard-app

# ===================================================================
# = DATABASE CREDENTIALS FROM ENVIRONMENT VARIABLES
# = Set these before running:
# = export DB_URL=jdbc:postgresql://...
# = export DB_USERNAME=postgres...
# = export DB_PASSWORD=...
# ===================================================================
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

spring.jpa.hibernate.ddl-auto=update
server.port=${SERVER_PORT:8081}

# Right-size HikariCP to avoid exhausting Supabase connection limits
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=3
spring.datasource.hikari.idle-timeout=30000
spring.datasource.hikari.max-lifetime=180000
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.keepalive-time=30000
spring.datasource.hikari.validation-timeout=5000
spring.datasource.hikari.leak-detection-threshold=60000
spring.datasource.hikari.health-check-properties.connectivityCheckTimeoutMs=1500
spring.datasource.hikari.health-check-properties.expected99thPercentileMs=10
